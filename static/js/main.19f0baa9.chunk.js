(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{92:function(t,e,n){"use strict";n.r(e);var r,c,a,i,o,s,u,l,j,d,b,p,x=n(0),h=n(51),O=n.n(h),f=n(6),g=n(28),m=n(4),v=n(2),y=function(){return Object(v.jsx)("h1",{children:"Text"})},w=Object(x.createContext)(null),C=n(9),k=n(58),S=n(11),P=n(12),I={colors:{green:"green",blue:"#15cdfc",black:"#000",red:"#ef5350",white:"white"}},B=n(93),A=Object(P.c)(B.a.div)(r||(r=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 15px;\n  border: 2px solid ",";\n  margin-top: 20px;\n  align-items: flex-start;\n  justify-content: space-between;\n  border-radius: 10px;\n  min-height: 200px;\n  cursor: pointer;\n"])),I.colors.green),T=Object(P.c)(B.a.button).attrs((function(t){return{className:t.className}}))(c||(c=Object(S.a)(["\n  color: ",";\n  padding: 5px 15px;\n  font-size: 15px;\n  background: transparent;\n  border: 1px solid ",";\n  cursor: pointer;\n  border-radius: 10px;\n  :hover {\n    background: rgba(0, 0, 0, 0.05);\n  }\n  &.PageButtonStyle {\n    margin-left: 10px;\n  }\n  &.pageCurrentStyle {\n    background: rgba(0, 0, 0, 0.1);\n  }\n  ","\n"])),I.colors.green,I.colors.green,(function(t){return t.light&&Object(P.b)(a||(a=Object(S.a)(["\n      color: ",";\n      border: 1px solid ",";\n    "])),I.colors.white,I.colors.white)})),D=P.c.input(i||(i=Object(S.a)(["\n  width: 100%;\n  margin: 5px 0;\n  padding: 5px 15px;\n  color: ",";\n  font-size: 15px;\n  background: transparent;\n  border: 2px solid ",";\n  border-radius: 10px;\n  :focus {\n    outline: none;\n  }\n"])),I.colors.green,I.colors.green),E=P.c.select(o||(o=Object(S.a)(["\n  width: 20%;\n  border: 1px solid ",";\n  color: ",";\n  border-radius: 10px;\n  margin-top: 5px;\n  :focus {\n    outline: none;\n  }\n"])),I.colors.green,I.colors.green),L=Object(P.c)(B.a.div)(s||(s=Object(S.a)(["\n  width: clamp(15%, 600px, 90%);\n  height: min(50%, 200px);\n\n  margin: auto;\n  background: white;\n  padding: 25px;\n  border-radius: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),N=Object(P.c)(B.a.div)(u||(u=Object(S.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),q=Object(P.c)(B.a.div)(l||(l=Object(S.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 3px dotted ",";\n"])),I.colors.green),z=Object(P.c)(B.a.div)(j||(j=Object(S.a)(["\n  margin: 20px auto;\n  display: flex;\n  justify-content: center;\n"]))),F=P.c.nav(d||(d=Object(S.a)(["\n  height: 50px;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  background: ",";\n  z-index: 100;\n  position: sticky;\n  top: 0;\n"])),I.colors.red),M=P.c.div(b||(b=Object(S.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n  gap: 20px 20px;\n  margin-left: 15px;\n  margin-right: 15px;\n"]))),V=function(t){var e=t.children,n=Object(k.a)(t,["children"]);return Object(v.jsx)(T,Object(C.a)(Object(C.a)({},n),{},{whileHover:{scale:1.1},whileTap:{scale:.9},children:e}))},X=function(t){return Object(v.jsx)(D,Object(C.a)({},t))},H=function(){var t=Object(x.useContext)(w).setIsAuth;return Object(v.jsxs)("div",{style:{margin:"0 auto",width:"25%",display:"flex",flexDirection:"column"},children:[Object(v.jsx)("h1",{children:"Login"}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(!0),localStorage.setItem("auth","true")},children:[Object(v.jsx)(X,{type:"text",placeholder:"just push the button"}),Object(v.jsx)(X,{type:"password",placeholder:"just push the button"}),Object(v.jsx)(V,{children:"Log in"})]})]})},J=n(8),_=n.n(J),$=n(21),G=n(55),K=n(56),Q=n(35),R=n.n(Q),U=function(){function t(){Object(G.a)(this,t)}return Object(K.a)(t,null,[{key:"getAll",value:function(){var t=Object($.a)(_.a.mark((function t(){var e,n,r,c=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:10,n=c.length>1&&void 0!==c[1]?c[1]:1,t.next=4,R.a.get("https://jsonplaceholder.typicode.com/posts/",{params:{_limit:e,_page:n}});case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object($.a)(_.a.mark((function t(e){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.get("https://jsonplaceholder.typicode.com/posts/"+e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCommentsByPostId",value:function(){var t=Object($.a)(_.a.mark((function t(e){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e,"/comments"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),W=function(t){var e=Object(x.useState)(!1),n=Object(f.a)(e,2),r=n[0],c=n[1],a=Object(x.useState)(""),i=Object(f.a)(a,2),o=i[0],s=i[1];return[function(){var e=Object($.a)(_.a.mark((function e(){var n=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,t.apply(void 0,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s(e.t0.message);case 9:return e.prev=9,c(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}}(),r,o]},Y=function(){return Object(v.jsx)(q,{animate:{rotate:360,scale:[1,1.5,2]},transition:{times:[0,1.5,2],duration:3,repeat:1/0,repeatType:"loop",ease:"linear"}})},Z=function(){var t=Object(m.h)(),e=Object(x.useState)({}),n=Object(f.a)(e,2),r=(n[0],n[1]),c=Object(x.useState)([]),a=Object(f.a)(c,2),i=a[0],o=a[1],s=W(Object($.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getById(t.id);case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)})))),u=Object(f.a)(s,3),l=u[0],j=u[1],d=(u[2],W(Object($.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getCommentsByPostId(t.id);case 2:n=e.sent,o(n.data);case 4:case"end":return e.stop()}}),e)}))))),b=Object(f.a)(d,3),p=b[0];b[1],b[2];return Object(x.useEffect)((function(){l(t.id),p(t.id)}),[]),Object(v.jsx)("div",{children:j?Object(v.jsx)(Y,{}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("h1",{children:["It's a page with post ID = ",t.id]}),i.map((function(t,e){return Object(v.jsxs)("div",{style:{marginTop:15},children:[Object(v.jsx)("h5",{children:t.email}),Object(v.jsx)("div",{children:t.body})]},e)}))]})})},tt=n(32),et=function(t){var e=t.options,n=t.defaultValue,r=t.value,c=t.onChange;return Object(v.jsxs)(E,{value:r,onChange:function(t){return c(t.target.value)},children:[Object(v.jsx)("option",{disabled:!0,value:"",children:n}),e.map((function(t,e){return Object(v.jsx)("option",{value:t.value,children:t.name},e+1)}))]})},nt=function(t){var e=t.filter,n=t.setFilter;return Object(v.jsxs)("div",{children:[Object(v.jsx)(X,{value:e.query,placeholder:"Search...",onChange:function(t){return n(Object(C.a)(Object(C.a)({},e),{},{query:t.target.value}))}}),Object(v.jsx)(et,{value:e.sort,defaultValue:"Sorting",options:[{value:"title",name:"By title"},{value:"body",name:"By description"},{value:"id",name:"By number"}],onChange:function(t){return n(Object(C.a)(Object(C.a)({},e),{},{sort:t}))}})]})},rt=function(t){var e=t.post,n=(t.number,t.removePost),r=Object(m.g)();return Object(v.jsxs)(A,{onClick:function(){return r.push("/posts/".concat(e.id))},children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("strong",{children:[e.id,". ",e.title]}),Object(v.jsx)("div",{children:e.body})]}),Object(v.jsx)("div",{style:{marginLeft:"auto",marginTop:5},children:Object(v.jsx)(V,{onClick:function(t){return function(t){t.stopPropagation(),n(e)}(t)},children:"Delete"})})]})},ct=function(t){var e=t.posts,n=t.title,r=t.removePost,c={initial:{opacity:0,transition:{type:"spring",duration:3}},animate:{opacity:1,transition:{type:"spring",duration:3}}};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{style:{textAlign:"center"},children:n}),e.length?Object(v.jsx)(M,{children:e.map((function(t,e){return Object(v.jsx)(B.a.div,{variants:c,initial:"initial",animate:"animate",whileHover:{scale:1.025},children:Object(v.jsx)(rt,{removePost:r,number:e+1,post:t})},e+1)}))}):Object(v.jsx)("h2",{style:{display:"flex",justifyContent:"center",marginTop:"150px",textAlign:"center"},children:"No posts"})]})},at=function(t,e,n){var r=function(t,e){return Object(x.useMemo)((function(){return"title"===e||"body"===e?Object(tt.a)(t).sort((function(t,n){return t[e].localeCompare(n[e])})):"id"===e?Object(tt.a)(t).sort((function(t,e){return t.id-e.id})):t}),[e,t])}(t,e);return Object(x.useMemo)((function(){return r.filter((function(t){return t.title.toLowerCase().includes(n)}))}),[n,r])},it=function(t){var e=t.children,n=t.onClick;return Object(v.jsx)(N,{onClick:n,initial:{opacity:0},animate:{opacity:1},exit:{oapcity:0},children:e})},ot=function(t){var e=t.createPost,n=Object(x.useState)({title:"",body:""}),r=Object(f.a)(n,2),c=r[0],a=r[1];return Object(v.jsxs)("form",{children:[Object(v.jsx)(X,{type:"text",placeholder:"Title",value:c.title,onChange:function(t){return a(Object(C.a)(Object(C.a)({},c),{},{title:t.target.value}))}}),Object(v.jsx)(X,{type:"text",placeholder:"Description",value:c.body,onChange:function(t){return a(Object(C.a)(Object(C.a)({},c),{},{body:t.target.value}))}}),Object(v.jsx)(V,{style:{marginTop:15},type:"submit",onClick:function(t){t.preventDefault();var n=Object(C.a)({id:Date.now()},c);e(n),a({title:"",body:""})},children:"Create"})]})},st={hidden:{transform:"scale(0) rotateX(-360deg)",opacity:0,transition:{delay:.3}},visible:{transform:" scale(1) rotateX(0deg)",opacity:1,transition:{duration:.5}},exit:{transform:"scale(0) rotateX(360deg)",opacity:0,transition:{duration:.5}}},ut=function(t){var e=t.handleClose,n=t.createPost;return Object(v.jsx)(it,{onClick:e,children:Object(v.jsx)(L,{drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},onClick:function(t){return t.stopPropagation()},variants:st,initial:"hidden",animate:"visible",exit:"exit",children:Object(v.jsx)(ot,{createPost:n})})})},lt=function(t,e){return Math.ceil(t/e)},jt=function(t){var e=t.totalPages,n=t.page,r=t.changePage,c=function(t){for(var e=[],n=0;n<t;n++)e.push(n+1);return e}(e);return Object(v.jsx)(z,{children:c.map((function(t){return Object(v.jsx)(V,{className:n===t?"PageButtonStyle pageCurrentStyle":"PageButtonStyle",onClick:function(){return r(t)},children:t},t)}))})},dt=n(94),bt=[{path:"/about",component:y,exact:!0},{path:"/posts",component:function(){var t=Object(x.useState)([]),e=Object(f.a)(t,2),n=e[0],r=e[1],c=Object(x.useState)({sort:"",query:""}),a=Object(f.a)(c,2),i=a[0],o=a[1],s=Object(x.useState)(!1),u=Object(f.a)(s,2),l=u[0],j=u[1],d=at(n,i.sort,i.query),b=Object(x.useState)(0),p=Object(f.a)(b,2),h=p[0],O=p[1],g=Object(x.useState)(10),m=Object(f.a)(g,2),y=m[0],w=m[1],C=Object(x.useState)(1),k=Object(f.a)(C,2),S=k[0],P=k[1],I=function(){return j(!1)},B=W(function(){var t=Object($.a)(_.a.mark((function t(e,n){var c,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.getAll(e,n);case 2:c=t.sent,r(c.data),a=c.headers["x-total-count"],O(lt(a,e));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),A=Object(f.a)(B,3),T=A[0],D=A[1],E=A[2];Object(x.useEffect)((function(){T(y,S)}),[S,y]);return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:{margin:"0 auto",width:"25%",display:"flex",flexDirection:"column"},children:[Object(v.jsx)(V,{style:{marginTop:30,width:"40%"},onClick:function(){return l?I():j(!0)},children:"Create post"}),Object(v.jsx)(dt.a,{initial:!1,exitBeforeEnter:!0,onExitComplete:function(){return null},children:l&&Object(v.jsx)(ut,{handleClose:I,createPost:function(t){r([].concat(Object(tt.a)(n),[t])),I()}})}),Object(v.jsx)("hr",{style:{margin:"15px 0"}}),Object(v.jsx)(nt,{filter:i,setFilter:o}),Object(v.jsx)(et,{value:y,defaultValue:"Number of posts on the page",onChange:function(t){return w(t)},options:[{value:5,name:"5"},{value:10,name:"10"},{value:25,name:"25"},{value:100,name:"Show all"}]})]}),E&&Object(v.jsxs)("h1",{children:["Error $",E]}),D?Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"150px"},children:Object(v.jsx)(Y,{})}):Object(v.jsx)("div",{children:Object(v.jsx)(ct,{removePost:function(t){r(n.filter((function(e){return t.id!==e.id})))},posts:d,title:"Post List"})}),Object(v.jsx)(jt,{totalPages:h,page:S,changePage:function(t){P(t)}})]})},exact:!0},{path:"/posts/:id",component:Z,exact:!0}],pt=[{path:"/login",component:H,exact:!0}],xt=function(){var t=Object(x.useContext)(w),e=t.isAuth;return t.isLoading?Object(v.jsx)(Y,{}):e?Object(v.jsxs)(m.d,{children:[bt.map((function(t,e){return Object(v.jsx)(m.b,{component:t.component,path:t.path,exact:t.exact},t.path)})),Object(v.jsx)(m.a,{to:"/posts"})]}):Object(v.jsxs)(m.d,{children:[pt.map((function(t,e){return Object(v.jsx)(m.b,{component:t.component,path:t.path,exact:t.exact},t.path)})),Object(v.jsx)(m.a,{to:"/login"})]})},ht=function(){var t=Object(x.useContext)(w).setIsAuth;return Object(v.jsxs)(F,{children:[Object(v.jsx)(V,{light:!0,onClick:function(){t(!1),localStorage.removeItem("auth")},children:"Exit"}),Object(v.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(v.jsx)(g.b,{to:"/about",children:"About"}),Object(v.jsx)(g.b,{to:"/",children:"Posts"})]})]})},Ot=function(){var t=Object(x.useState)(!1),e=Object(f.a)(t,2),n=e[0],r=e[1],c=Object(x.useState)(!0),a=Object(f.a)(c,2),i=a[0],o=a[1];return Object(x.useEffect)((function(){localStorage.getItem("auth")&&r(!0),o(!1)}),[]),Object(v.jsx)(w.Provider,{value:{isAuth:n,setIsAuth:r,isLoading:i},children:Object(v.jsxs)(g.a,{children:[Object(v.jsx)(ht,{}),Object(v.jsx)(xt,{})]})})},ft=Object(P.a)(p||(p=Object(S.a)(["\n*{\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box; \n}\n \n","\n}\n"])),"");O.a.render(Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ft,{}),Object(v.jsx)(Ot,{})]}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.19f0baa9.chunk.js.map